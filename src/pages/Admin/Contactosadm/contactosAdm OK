import * as React from 'react';
import { useState, useEffect } from 'react';
import { db } from '../../../config/Firebase'
import { collection, getDocs } from "firebase/firestore";
import Box from '@mui/material/Box';
import { DataGrid, GridColDef } from '@mui/x-data-grid';
import Separador from '../../Separador/Separador';

const columns: GridColDef[] = [
  { field: 'id', headerName: 'ID', width: 150 },
  { field: 'nombre',headerName: 'Nombre', editable: false, width: 200,},
  { field: 'correo', headerName: 'Correo', editable: false, width: 100,},
  { field: 'telefono', headerName: 'Telefono', editable: false, width: 100,},
  { field: 'asunto', headerName: 'Asunto', editable: false, width: 100,},
  { field: 'mensaje', headerName: 'Mensaje', editable: false, width: 300,},
];

const fila = 
{ id: '',
  nombre: '',
  correo: '',
  telefono: '',
  asunto: '',
  mensaje: ''
}

let docs = [];
export default function Contactosadm() {
   
  const [rows, setRows] = useState([]);
  useEffect(() => {
    const getRows = async () => {
      try {
        const collectionRef = collection(db, "Contactos");
        const response = await getDocs(collectionRef);
        console.log(response.docs)
        response.forEach((doc) => {
          fila.id = doc.id;
          fila.asunto = doc.data().contacto.asunto;
          fila.nombre = doc.data().contacto.nombre;
          fila.correo = doc.data().contacto.correo;
          fila.telefono = doc.data().contacto.telefono;
          fila.mensaje = doc.data().contacto.mensaje;
          console.log('fila',fila);
          docs.push(fila)
        });
        console.log('docs',docs)
        setRows(docs);
      } catch (error) {
        console.log(error);
      }
    };
 
    getRows();
    
  }, []);
